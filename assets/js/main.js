function initValidationForm(){let e=document.querySelectorAll("form");e.length&&e.forEach(e=>{let t=new Pristine(e);e.addEventListener("submit",(function(e){e.preventDefault(),t.validate()}))})}function initPhoneMask(){document.querySelectorAll('[type="tel"]').forEach(e=>IMask(e,{mask:"+{7}(000)000-00-00"}))}function initAccordion(){let e=document.querySelectorAll(".accordion-btn");e.forEach(t=>{t.addEventListener("click",()=>{if(t.disabled)return;let o=t.classList.contains("is-active");if(e.forEach(e=>{e.classList.contains("is-active")&&(e.classList.remove("is-active"),e.nextElementSibling.style.height=null)}),!o){t.classList.add("is-active");let e=t.nextElementSibling;e.style.height?e.style.height=null:e.style.height=e.scrollHeight+"px"}t.disabled=!0,setTimeout(()=>t.disabled=!1,100)})})}function initHamburger(){document.querySelectorAll(".hamburger").forEach(e=>{e.addEventListener("click",t=>{e.disabled||(document.body.classList.contains("-menu-open")?document.body.classList.remove("-menu-open"):document.body.classList.add("-menu-open"),e.disabled=!0,setTimeout(()=>e.disabled=!1,100))})})}function initModalFormWindow(){const e=document.querySelectorAll("[data-modal]"),t=document.querySelectorAll(".modal-close");e.forEach(e=>{e.addEventListener("click",t=>{modalOpen(e.dataset.modal,e.dataset.video),t.preventDefault()})}),t.forEach(e=>{e.addEventListener("click",e=>{modalClose("#"+e.currentTarget.closest(".modal").id)})})}function modalOpen(e,t){let o=document.querySelector(e),n=document.querySelectorAll(".modal.-is-open");n.length&&n.forEach(e=>{modalClose("#"+e.id)}),document.body.classList.add("-modal-open"),o.classList.add("-is-open"),null!=t&&o.querySelector("iframe").src.indexOf("youtube")&&(o.querySelector("iframe").src=o.querySelector("iframe").src+"?autoplay=1"),window.onclick=function(e){e.target==o&&modalClose("#"+o.id)},inputsClassToggle()}function modalClose(e){let t=document.querySelector(e);document.body.classList.contains("-modal-open")&&document.body.classList.remove("-modal-open"),t.classList.remove("-is-open"),t.querySelector("iframe")&&t.querySelector("iframe").src.indexOf("youtube")&&(t.querySelector("iframe").src=t.querySelector("iframe").src+"?autoplay=0")}function inputsClassToggle(){document.querySelectorAll('input[type="tel"], input[type="text"], input[type="password"], input[type="email"], textarea').forEach(e=>{e.value?e.classList.add("-not-empty"):e.classList.remove("-not-empty"),e.addEventListener("change",(function(){this.value?this.classList.add("-not-empty"):this.classList.remove("-not-empty")}))})}window.addEventListener("DOMContentLoaded",(function(){initHamburger(),initModalFormWindow(),initPhoneMask(),initAccordion(),initValidationForm(),setTimeout(inputsClassToggle,100),flatpickr("[data-date]",{dateFormat:"d.m.Y",locale:"ru",defaultDate:"today",disable:[function(e){return e>new Date}]})})),window.onload=function(){document.querySelectorAll("form").forEach(e=>{const t=new Pristine(e);e.addEventListener("submit",(function(e){e.preventDefault();t.validate()}))})};